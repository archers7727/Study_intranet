# 태그 기반 교육 관리 시스템 기능 명세서

이 문서는 시스템의 핵심 기능 중 학생 관리, 클래스 관리, 태그 관리, 그리고 세션 관리에 대한 상세 기능을 설명합니다.

---

## 1. 학생 관리 (Student Management)

학생 관리 모듈은 원생의 기본 정보, 수강 이력, 과제 현황 및 보호자 연락처를 통합 관리합니다.

### 1.1 학생 목록 및 검색
*   **통합 검색:** 학생 이름 또는 학교명을 기반으로 실시간 필터링을 지원합니다.
*   **반응형 뷰:** 데스크톱에서는 상세 테이블 뷰를, 모바일에서는 카드 형태의 요약 뷰를 제공합니다.
*   **상태 표시기:** 
    *   **재원 상태:** 재원(Enrolled), 대기(Waiting), 퇴원(Left) 상태를 칩 형태로 시각화합니다.
    *   **관리 상태:** 정상(Normal), 주의(Caution) 상태를 구분하여 집중 관리가 필요한 학생을 식별합니다.

### 1.2 학생 등록 및 수정
*   **자동 ID 생성:** 이름과 연락처 끝 5자리를 조합하여 고유 학생 ID를 자동 생성합니다. (예: 홍길동12345)
*   **자동 비밀번호 설정:** 생년월일 6자리와 성별 코드(남:3, 여:4)를 조합하여 초기 비밀번호를 생성합니다.
*   **학년 자동 계산:** 생년월일을 입력하면 한국 나이 기준 초/중/고 학년이 자동으로 계산됩니다.
*   **보호자 연동:** 기존 보호자 DB에서 검색하여 연결하거나, 신규 보호자 정보를 즉시 등록하여 연결할 수 있습니다.
*   **태그 할당:** 학생의 성향, 수준, 특이사항 등을 태그로 분류하여 관리합니다.

### 1.3 학생 상세 정보 (프로필)
*   **수강 이력:** 참여 중인 클래스별 출석률과 일자별 상세 출결 로그(출석/결석)를 아코디언 형태로 제공합니다.
*   **과제 내역:** 부여된 모든 과제의 상태(미제출, 제출, 채점완료)와 점수, 제출일을 리스트로 확인합니다.
*   **상태 변경 이력:** 학생의 관리 상태(정상/주의)가 변경된 날짜, 사유, 변경 주체를 타임라인으로 기록합니다.

### 1.4 연락처 관리
*   **통합 연락처 리스트:** 학생과 보호자의 연락처를 가나다순으로 통합 제공합니다.
*   **관계 표시:** 보호자의 경우 어떤 학생의 부/모인지 명시합니다.
*   **원클릭 복사:** 연락처 옆의 복사 버튼을 통해 클립보드로 전화번호를 즉시 복사할 수 있습니다.

---

## 2. 클래스 관리 (Class Management)

클래스 관리는 수업의 운영 형태, 배정 교사, 수강생 및 반복 일정을 정의합니다.

### 2.1 클래스 운영 및 관리
*   **담당 교사 배정:** 주교사(Main Teacher) 1인과 복수의 보조교사(Assistant Teacher)를 지정할 수 있습니다.
*   **클래스 복사:** 기존 클래스의 설정(교사, 학생, 태그, 일정 등)을 그대로 복제하여 유사한 신규 클래스를 빠르게 생성합니다.
*   **비용 및 설명 관리:** 수강료 및 클래스 커리큘럼 상세 설명을 관리합니다.

### 2.2 일정 및 세션 생성
*   **반복 일정 설정:** 요일별 시작 시간과 종료 시간을 복수로 설정하여 정규 수업 일정을 정의합니다.
*   **세션 자동 생성 도구:** 정의된 반복 일정을 바탕으로 향후 3개월간의 수업 세션을 일괄 생성합니다. 생성 전 특정 날짜의 세션을 제외하거나 포함하는 선택적 생성이 가능합니다.

---

## 3. 태그 관리 시스템 (Tag Suite)

시스템 전반에서 데이터 분류 및 검색의 핵심 역할을 하는 중앙 집중형 태그 관리 도구입니다.

### 3.1 태그 현황 대시보드
*   **핵심 지표:** 총 태그 수, 총 자료 수, 태그 미지정 자료 수, 자료당 평균 태그 수 등 통계 데이터를 제공합니다.
*   **사용량 분석:** 가장 많이 사용된 태그 TOP 5를 차트 형태로 시각화하여 주요 키워드를 파악합니다.

### 3.2 태그 관리 및 생성
*   **커스텀 컬러:** 컬러 피커(Color Picker)를 통해 각 태그에 고유 색상을 부여하여 가독성을 높입니다.
*   **실시간 검색:** 생성된 태그 리스트를 이름으로 빠르게 검색합니다.
*   **사용량 추적:** 각 태그가 몇 개의 데이터(학생, 클래스, 세션, 자료)에 연결되어 있는지 실시간으로 카운트하여 표시합니다.

### 3.3 태그 기반 데이터 검색
*   **다중 필터링:** 복수의 태그를 선택하여 정교한 데이터 검색이 가능합니다.
*   **논리 연산 지원:** 선택한 태그들을 모두 포함하는 자료를 찾는 **AND** 로직과, 하나라도 포함하는 자료를 찾는 **OR** 로직을 전환할 수 있습니다.

---

## 4. 세션 관리 (Session Management)

실제 수업이 이루어지는 개별 '세션' 단위의 운영 및 출결, 과제 관리를 담당합니다.

### 4.1 다중 캘린더 뷰
*   **월간(Month) 뷰:** 한 달간의 전체 수업 일정을 요약 확인합니다.
*   **주간(Week) 뷰:** 시간대별 수업 겹침을 고려한 타임라인 뷰를 제공합니다. (자동 레이아웃 알고리즘 적용)
*   **일간(Day) 뷰:** 특정 날짜의 수업을 시간순으로 상세히 확인합니다.
*   **모바일 아젠다:** 모바일 환경에 최적화된 리스트 형태의 일일 수업 스케줄러를 제공합니다.

### 4.2 출석 관리 (Attendance)
*   **실시간 체크:** 세션 참여 학생들의 출석/결석 상태를 즉시 기록합니다.
*   **일괄 처리:** '전체 출석 처리' 버튼을 통해 빠른 출결 확인이 가능합니다.

### 4.3 과제 부여 및 관리 (Assignments)
*   **과제 부여:** 특정 세션에 참여하는 학생들에게 라이브러리의 문제를 과제로 할당합니다. 이때 세션 태그와 일치하는 과제를 우선 추천합니다.
*   **마감일 설정:** 과제별 제출 마감 기한을 지정하며, 기한 초과 시 미제출 상태가 강조됩니다.
*   **학생별/과제별 보기 전환:** 
    *   **학생별:** 한 학생이 이 세션에서 해야 할 모든 과제 현황을 확인합니다.
    *   **과제별:** 특정 과제에 대해 전체 수강생의 제출 및 채점 현황을 확인합니다.
*   **수동 채점:** 주관식이나 오프라인 과제의 경우 교사가 직접 점수를 입력하고 채점 완료 상태로 변경할 수 있습니다.

### 4.4 수업 자료 연동 (Materials)
*   **자료 연결:** 수업에 필요한 강의 자료나 참고 문헌을 세션에 연결하여 학생과 교사가 공유합니다.
*   **태그 추천:** 세션에 설정된 태그와 일치하는 자료를 우선적으로 노출하여 자료 검색 시간을 단축합니다.


## 5. 권한 관리 시스템 (Role-based Permission System)

시스템 보안과 효율적인 운영을 위해 총 6단계의 역할 기반 접근 제어(RBAC)를 적용합니다.

### 5.1 권한 레벨별 정의

| 레벨 | 역할 | 설명 및 주요 권한 |
| :--- | :--- | :--- |
| **LV0** | **관리자** | **시스템 전체 제어:** 모든 데이터(교사, 학생, 태그, 설정)의 생성/수정/삭제 권한. |
| **LV1** | **수석교사** | **운영 총괄:** 원장 또는 관리직. 클래스 생성 및 복사, 태그 관리, 모든 학생 정보 열람 및 수정 권한. |
| **LV2** | **일반교사** | **수업 운영:** 담당 클래스의 세션 관리, 출결 체크, 과제 부여 및 채점, 수업 자료 등록 권한. (학생/클래스 삭제 불가) |
| **LV3** | **보조교사** | **수업 보조:** 담당 세션의 출결 체크 및 수업 자료 열람 권한. 시스템 설정 및 태그 관리 접근 제한. |
| **LV4** | **학생** | **학습 참여:** 본인의 수업 일정 확인, 과제 제출, 수업 자료 열람 권한. 타 학생 정보 접근 불가. |
| **LV5** | **학부모** | **모니터링:** 자녀의 출결 현황, 과제 수행 내역, 성적 리포트 열람 권한. 알림 설정 관리. |

### 5.2 주요 기능 접근 권한 매트릭스

| 기능 구분 | 기능명 | LV0/1 | LV2 | LV3 | LV4/5 |
| :--- | :--- | :---: | :---: | :---: | :---: |
| **태그 관리** | 태그 생성 / 삭제 | O | X | X | X |
| **클래스 관리** | 클래스 생성 / 복사 / 삭제 | O | X | X | X |
| **학생 관리** | 신규 학생 등록 / 삭제 | O | X | X | X |
| **수업 운영** | 세션 정보 수정 (장소 등) | O | O | X | X |
| | 출결 체크 및 수정 | O | O | O | X |
| | 과제 부여 및 채점 | O | O | X | X |
| | 수업 자료 연동 | O | O | O | X |
| **데이터 조회** | 전체 원생/클래스 조회 | O | X | X | X |
| | 본인 관련 정보만 조회 | O | O | O | O |

*   **상위 권한 승계:** 상위 레벨은 하위 레벨의 모든 권한을 기본적으로 포함합니다.
*   **권한 테스트 기능:** 개발 및 관리 목적으로 헤더에서 현재 로그인 사용자의 권한 레벨을 실시간으로 변경하여 UI/UX를 테스트할 수 있습니다.
